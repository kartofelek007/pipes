const e={check:!1,active:!1},t=[{...e,icon:"x",points:"",inactive:!0,type:-1,types:[-1]},{...e,icon:" ",points:"",inactive:!0,type:0,types:[0]},{...e,icon:"←",points:"L",inactive:!0,type:1,types:[1,2,3,4]},{...e,icon:"↑",points:"T",inactive:!0,type:2,types:[1,2,3,4]},{...e,icon:"→",points:"R",inactive:!0,type:3,types:[1,2,3,4]},{...e,icon:"↓",points:"B",inactive:!0,type:4,types:[1,2,3,4]},{...e,icon:"│",points:"TB",inactive:!1,type:5,types:[5,6]},{...e,icon:"─",points:"LR",inactive:!1,type:6,types:[5,6]},{...e,icon:"┘",points:"LT",inactive:!1,type:7,types:[7,8,9,10]},{...e,icon:"└",points:"RT",inactive:!1,type:8,types:[7,8,9,10]},{...e,icon:"┌",points:"RB",inactive:!1,type:9,types:[7,8,9,10]},{...e,icon:"┐",points:"LB",inactive:!1,type:10,types:[7,8,9,10]},{...e,icon:"┤",points:"LTB",inactive:!1,type:11,types:[11,12,13,14]},{...e,icon:"┴",points:"LRT",inactive:!1,type:12,types:[11,12,13,14]},{...e,icon:"├",points:"RTB",inactive:!1,type:13,types:[11,12,13,14]},{...e,icon:"┬",points:"LRB",inactive:!1,type:14,types:[11,12,13,14]},{...e,icon:"┼",points:"LRTB",inactive:!0,type:15,types:[15]},{...e,icon:"◄",points:"L",inactive:!0,type:16,types:[16,17,18,19]},{...e,icon:"▲",points:"T",inactive:!0,type:17,types:[16,17,18,19]},{...e,icon:"►",points:"R",inactive:!0,type:18,types:[16,17,18,19]},{...e,icon:"▼",points:"B",inactive:!0,type:19,types:[16,17,18,19]},{...e,icon:"╥",points:"B",inactive:!0,type:20,types:[20,21,22,23]},{...e,icon:"╡",points:"L",inactive:!0,type:21,types:[20,21,22,23]},{...e,icon:"╨",points:"T",inactive:!0,type:22,types:[20,21,22,23]},{...e,icon:"╞",points:"R",inactive:!0,type:23,types:[20,21,22,23]},{...e,icon:"║",points:"TB",inactive:!0,type:24,types:[24,25]},{...e,icon:"═",points:"LR",inactive:!0,type:25,types:[24,25]},{...e,icon:"╝",points:"LT",inactive:!0,type:26,types:[26,27,28,29]},{...e,icon:"╚",points:"RT",inactive:!0,type:27,types:[26,27,28,29]},{...e,icon:"╔",points:"RB",inactive:!0,type:28,types:[26,27,28,29]},{...e,icon:"╗",points:"LB",inactive:!0,type:29,types:[26,27,28,29]},{...e,icon:"b",points:"",inactive:!0,type:30,types:[30,31]},{...e,icon:"B",points:"",inactive:!0,type:31,types:[30,31]},{...e,icon:"●",points:"",inactive:!0,type:40,types:[40]}],s=t.filter((e=>e.points&&e.points.includes("L"))).map((e=>e.type)),i=t.filter((e=>e.points&&e.points.includes("R"))).map((e=>e.type)),n=t.filter((e=>e.points&&e.points.includes("T"))).map((e=>e.type)),a=t.filter((e=>e.points&&e.points.includes("B"))).map((e=>e.type)),o=t.filter((e=>[16,17,18,19,20,21,22,23].includes(e.type))).map((e=>e.type));class r{constructor(){this._id=0,this.subscribers={}}on(e){this._id++;const t=`${this._id}`;return this.subscribers[t]=e,this._id}off(e){for(let[t,s]of Object.entries(this.subscribers))s===e&&delete this.subscribers[t]}emit(...e){for(let[t,s]of Object.entries(this.subscribers))s(...e)}}class c{constructor(e){this.signals={onRotateEnd:new r},this._check=!1,this._icon=e.icon,this._type=e.type,this._points=this._getPipePoints(),this._pipeTypesGroup=this._getPipeTypesGroup(),this._active=e.active,this._inactive=e.inactive,this._draggable=!1,this._DOM={div:c.generateHTML(this._active,this._inactive,this._type)},this.bindEvents()}_getPipeTypesGroup(){const e=t.find((e=>e.type===this._type));return void 0!==e?e.types:[]}_getPipePoints(){const e=t.find((e=>e.type===this._type));return void 0!==e?e.points:""}changePipe(){const e=Math.min(...this._pipeTypesGroup),t=Math.max(...this._pipeTypesGroup);this._type++,this._type>t&&(this._type=e),this._pipeTypesGroup=this._getPipeTypesGroup(),this._points=this._getPipePoints(),this._DOM.div.dataset.type=`${this._type}`}_clickOnTile(e){if(!this._inactive){const e=parseInt(getComputedStyle(this._DOM.div).getPropertyValue("--rotate"));this._DOM.div.style.setProperty("--rotate",`${e+90}deg`),this.changePipe(),this._DOM.div.addEventListener("transitionend",(e=>{this.signals.onRotateEnd.emit(this._DOM.div)}),{once:!0})}}static generateHTML(e,t,s){const i=document.createElement("div");return i.innerHTML='\n            <div class="pipe-inside">\n                <div class="pipe-active-textures">\n                    <div class="pipe-active-texture1"></div>\n                    <div class="pipe-active-texture2"></div>\n                </div>\n            </div>\n        ',i.classList.add("pipe"),e&&i.classList.add("pipe-active"),t&&(i.dataset.inactive="true"),i.dataset.type=`${s}`,i}get check(){return this._check}set check(e){this._check=e}get points(){return this._points}set points(e){this._points=e}set active(e){this._active=e,this._active?this._DOM.div.classList.add("pipe-active"):this._DOM.div.classList.remove("pipe-active")}get active(){return this._active}get div(){return this._DOM.div}set inactive(e){this._DOM.div.dataset.inactive=`${e}`,this._inactive=e}set icon(e){this._icon=e}get icon(){return this._icon}get type(){return this._type}get inactive(){return this._inactive}set draggable(e){this._DOM.div.draggable=e,this._draggable=e}get draggable(){return this._draggable}bindEvents(){this._clickOnTile=this._clickOnTile.bind(this),this._DOM.div.addEventListener("click",this._clickOnTile)}unbindEvents(){this._DOM.div.removeEventListener("click",this._clickOnTile)}}class d{constructor(e,t){this._element=e,this._dropAreas=[...t],this._areaFrom=null,this._areaDrop=null,this.signals={dragStart:new r,dragEnd:new r,dragEnter:new r,dragLeave:new r,dragDrop:new r},this.dragStart=this.dragStart.bind(this),this.dragEnd=this.dragEnd.bind(this),this.dragOver=this.dragOver.bind(this),this.dragEnter=this.dragEnter.bind(this),this.dragLeave=this.dragLeave.bind(this),this.dragDrop=this.dragDrop.bind(this)}dragStart(e){if(e.dataTransfer&&(e.dataTransfer.effectAllowed="move"),e.target){const t=e.target;t.classList.add("dragged"),this._areaFrom=t.parentElement}this._areaDrop=null,document.addEventListener("dragover",this.dragOver),document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragleave",this.dragLeave),document.addEventListener("drop",this.dragDrop);const t={originalEvent:e,dragElement:this._element,dropAreas:this._dropAreas};this.signals.dragStart.emit(t)}dragEnd(e){document.removeEventListener("dragover",this.dragOver),document.removeEventListener("dragenter",this.dragEnter),document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("drop",this.dragDrop);const t={originalEvent:e,dragElement:this._element,areaDrop:this._areaDrop,areaFrom:this._areaFrom};this.signals.dragEnd.emit(t)}dragOver(e){e.preventDefault()}dragEnter(e){e.preventDefault();const t=[...this._dropAreas].find((t=>t===e.target));if(!t)return;const s={originalEvent:e,dragElement:this._element,areaEnter:t,areaFrom:this._areaFrom};this.signals.dragEnter.emit(s)}dragLeave(e){const t=[...this._dropAreas].find((t=>t===e.target));if(!t)return;const s={originalEvent:e,dragElement:this._element,areaLeave:t,areaFrom:this._areaFrom};this.signals.dragLeave.emit(s)}dragDrop(e){const t=[...this._dropAreas].find((t=>t===e.target));t&&(this._areaDrop=t);const s={originalEvent:e,dragElement:this._element,areaFrom:this._areaFrom,areaDrop:this._areaDrop};this.signals.dragDrop.emit(s)}bindEvents(){this._element&&(this._element.addEventListener("dragstart",this.dragStart),this._element.addEventListener("dragend",this.dragEnd))}unbindEvents(){this._element&&(this._element.removeEventListener("dragstart",this.dragStart),this._element.removeEventListener("dragend",this.dragEnd))}}class l{constructor(){}render(){}show(){}hide(){}}const p=[{pattern:[["╔══╝▼"],["║xxx│"],["╝xxx│"],["→│ │┌"]],missed:"─"},{pattern:[["→└┌┴●"],["● ┌│●"],["●╚│┌●"],["●┌┐┌◄"]],missed:"─"},{pattern:[["┌│││╡"],["┌─┌│┌"],["┌┌║┌┌"],["→═ ═◄"]],missed:"┬"},{pattern:[["↓●┌◄╥"],["┌┌┌│┤"],["└  └┌"],["┌●┌┌┌"]],missed:"┌┌"},{pattern:[["  ╥ ◄"],[" B┘ ●"],["   ╚ "],["↑● │ "]],missed:"┌┌┌┌┌┌│┤"},{pattern:[["→┌┌│╡"],["┌│ │╡"],["╞┼ │╡"],["╞┌ ┌┌"],["╞│┌┌◄"]],missed:"┤┤┼"},{pattern:[["┘┘─└└●╥"],["└┘●└└●║"],["└└ ╔└● "],["└└●└└● "],["└╗●└└● "],["→ ◄└┤ └"]],missed:"┴────"},{pattern:[["┌│┌  ┌┌"],["┌┌┌●●┌┌"],["┌┌┌●┌┌┌"],["┌┌┌●│┌ "],["→┌┌●┌┌▲"]],missed:"──┐"},{pattern:[["└┐─│┐┤┼╥"],["┌ ┬ ┌●┌┌"],["┌┌●┌│┌┌┌"],["┌┌←┌┌●┌│"],["┐┌┌┐ ┌┌ "],["┌└│─▲┌┌╨"]],missed:"──┐┤┤"},{pattern:[["┌      ╡"],["┌      ╡"],["→      ◄"],["┌      ╡"],["┌      ╡"]],missed:"┤┤┤┤┤┤┐┐┐┐┐┐┐┐┐┐┐┐┐┐┐┐┐┐────"}];class h extends l{constructor(e){super(),this.signals={onMove:new r,onLevelStart:new r,onLevelEnd:new r},this._DOM={div:document.createElement("div"),moves:document.createElement("div"),canvas:document.createElement("canvas"),parts:document.createElement("div"),trash:document.createElement("div")},this._moves=0,this._levelEnd=!1,this._startTime=(new Date).getTime();const t=p[e].pattern;this._levelPattern=[].concat(...t),this._missedPart=p[e]?.missed,this._level=this._parseLevelText(),this._rowCount=this._level.length,this._colCount=this._level[0].length,this._startPoint={x:0,y:0},this._endPoints=[],this._init()}_generateMissedPipes(){if(this._DOM.parts.innerHTML="",this._missedPart){const e={};[...this._missedPart].forEach((t=>{void 0===e[t]&&(e[t]=0),e[t]++}));for(let[s,i]of Object.entries(e)){const e=t.find((e=>e.icon===s)),n=c.generateHTML(e.active,e.inactive,e.type);n.draggable=!0,n.dataset.inactive="true";const a=document.createElement("div");a.classList.add("parts-pipe-place"),a.dataset.type=`${e.type}`,a.dataset.types=`${e.types}`,a.append(n);const o=document.createElement("div");o.classList.add("parts-pipe-nr"),o.innerHTML=`${i}`,a.append(o),this._DOM.parts.append(a)}}}_showMoves(){this._DOM.moves.innerHTML=`liczba ruchów: ${this._moves}`}_render(){this._DOM.div=document.createElement("div"),this._DOM.div.classList.add("level"),this._DOM.div.innerHTML='\n            <div class="moves">liczba ruchów: 00</div>\n            <div class="canvas-cnt">\n                <div class="canvas"></div>\n            </div>\n            <div class="parts-cnt"></div>\n            <div class="trash">\n                <span>kosz</span>\n            </div>\n        ',this._DOM.moves=this._DOM.div.querySelector(".moves"),this._DOM.canvas=this._DOM.div.querySelector(".canvas"),this._DOM.parts=this._DOM.div.querySelector(".parts-cnt"),this._DOM.trash=this._DOM.div.querySelector(".trash"),this._DOM.canvas.style.gridTemplateColumns=`repeat(${this._colCount}, 1fr)`,this._DOM.canvas.style.gridTemplateRows=`repeat(${this._rowCount}, 1fr)`,document.body.append(this._DOM.div),this._drawElements()}_parseLevelText(){const e=[];for(let s of this._levelPattern){let i=[],n=0;for(let e of s){const s=t.find((t=>t.icon===e));if(!s)throw Error("Zły tile w strukturze levelu");{const e=new c({...s});e.signals.onRotateEnd.on((()=>{this.clickOnTile()})),i.push(e),n++}}e.push(i)}return e}_getEndTime(){const e=(new Date).getTime();let t=Math.abs(e-this._startTime)/1e3,s=Math.floor(t/86400);t-=86400*s;let i=Math.floor(t/3600)%24;t-=3600*i;let n=Math.floor(t/60)%60;return t-=60*n,{days:s,hours:i,minutes:n,seconds:t%60}}checkEndLevel(){let e=0,t=0;for(let s=0;s<this._level.length;s++)for(let i=0;i<this._level[s].length;i++){const n=this._level[s][i];o.includes(n.type)&&(e++,n.active&&t++)}if(t>=e){this._levelEnd=!0;const{days:e,hours:t,minutes:s,seconds:i}=this._getEndTime();console.log({days:e,hours:t,minutes:s,seconds:i}),console.log("%cKONIEC","background: gold; color: red;"),setTimeout((()=>{this.signals.onLevelEnd.emit({moves:this._moves,timeEnd:{days:e,hours:t,minutes:s,seconds:i}})}),1e3)}}resetTileStatus(){for(let e=0;e<this._level.length;e++)for(let t=0;t<this._level[e].length;t++){const s=this._level[e][t];s.check=!1,s.active=!1}}_drawElements(){this._DOM.canvas.innerHTML="";const e=new DocumentFragment;for(let t=0;t<this._level.length;t++)for(let s=0;s<this._level[t].length;s++){const i=document.createElement("div");i.classList.add("pipe-cnt"),i.dataset.x=`${s}`,i.dataset.y=`${t}`;const n=this._level[t][s];0===n.type?i.classList.add("pipe-cnt-place"):i.append(n.div),e.append(i)}this._DOM.canvas.append(e)}checkPipeConnection(e=-1,t=-1){t<0&&(t=this._startPoint.y),e<0&&(e=this._startPoint.x);const o=this._level[t][e];if(o.check=!0,o.active=!0,void 0===o.points)return!1;for(let r of o.points){if("L"===r&&e>0){const s=this._level[t][e-1];!s.check&&i.includes(s.type)&&this.checkPipeConnection(e-1,t)}if("R"===r&&e<this._colCount-1){const i=this._level[t][e+1];!i.check&&s.includes(i.type)&&this.checkPipeConnection(e+1,t)}if("T"===r&&t>0){const s=this._level[t-1][e];!s.check&&a.includes(s.type)&&this.checkPipeConnection(e,t-1)}if("B"===r&&t<this._rowCount-1){const s=this._level[t+1][e];!s.check&&n.includes(s.type)&&this.checkPipeConnection(e,t+1)}}return!0}increaseMoves(){this._moves++,this._showMoves(),this.signals.onMove.emit(this._moves)}clickOnTile(){this.resetTileStatus(),this.checkPipeConnection(),this._levelEnd||this.checkEndLevel(),this.increaseMoves()}get level(){return this._level}_init(){for(let e=0;e<this._level.length;e++)for(let t=0;t<this._level[e].length;t++){const s=this._level[e][t];"◄▲►▼".includes(s.icon)&&this._endPoints.push({x:t,y:e}),"←↑→↓".includes(s.icon)&&(this._startPoint={x:t,y:e})}this._endPoints.length&&this._startPoint?(this._render(),this._generateMissedPipes(),this.checkPipeConnection(),this._startTime=(new Date).getTime(),this.signals.onLevelStart.emit(!0)):alert("Błędne dane we wzorze poziomu!")}destructor(){this._DOM.div.remove()}}class v{constructor(){this.signals={onChangeValue:new r,onButtonClick:new r},this.DOM={select:document.createElement("select"),button:document.createElement("button")},this.render()}render(){this.DOM.select=document.createElement("select"),this.DOM.select.style.cssText="\n            position:absolute;\n            left: 10px;\n            bottom: 10px;\n            z-index: 1000\n        ",p.forEach(((e,t)=>{const s=document.createElement("option");s.value=`${t}`,s.innerHTML=`level ${t+1}`,this.DOM.select.append(s)})),this.DOM.select.onchange=()=>{this.signals.onChangeValue.emit(+this.DOM.select.value)},this.DOM.button=document.createElement("button"),this.DOM.button.style.cssText="\n            position: fixed;\n            bottom: 35px;\n            left: 10px;\n            z-index: 1000;\n        ",this.DOM.button.classList.add("debug-button"),this.DOM.button.innerHTML="Odblokuj poziomy",this.DOM.button.onclick=()=>{this.signals.onButtonClick.emit(!0)},document.body.append(this.DOM.select),document.body.append(this.DOM.button)}}document.addEventListener("keyup",(function e(t){if("?"===t.key){const t=new v;t.signals.onChangeValue.on((e=>{m(e)})),t.signals.onButtonClick.on((()=>{_=p.length-1;for(let e=0;e<=_;e++)g.unlockLevel(e)})),document.removeEventListener("keyup",e)}}));let u=null,_=0;function m(e){null!==u&&u.destructor(),u=new h(e),u.signals.onLevelEnd.on((()=>{E.show(),_===e&&_++,g.unlockLevel(_)})),function(){const e=document.querySelectorAll(".parts-cnt .pipe"),s=document.querySelectorAll(".pipe-cnt-place");function i(e){const s=document.querySelectorAll(".pipe-cnt-place, .trash"),n=document.querySelector(".trash"),a=new d(e,s);a.signals.dragStart.on((e=>{const t=e.dragElement;setTimeout((()=>{t.classList.add("invisible"),document.body.append(t)}),0)})),a.signals.dragEnter.on((e=>{e.areaEnter.classList.add("hovered")})),a.signals.dragEnd.on((e=>{const t=e.dragElement,s=e.areaFrom,i=e.areaDrop;t.classList.remove("invisible"),t.classList.remove("dragged"),i||s.append(t)})),a.signals.dragLeave.on((e=>{const t=e.areaLeave,s=e.areaFrom;t.classList.remove("hovered"),s.classList.remove("pipe-cnt-place-not-empty")})),a.signals.dragDrop.on((e=>{const s=e.dragElement,a=e.areaFrom,o=e.areaDrop;if(o){if(o.classList.remove("hovered"),o.classList.add("pipe-cnt-place-not-empty"),o===n){{const{x:e,y:s}=a.dataset,i=t.find((e=>0===e.type));if(i){const t={...i},n=new c(t);n.signals.onRotateEnd.on((()=>{u.clickOnTile()})),u.level[s][e]=n}}s.remove();const e=s.dataset.type,i=[...document.querySelectorAll(".parts-pipe-place")].find((t=>t.dataset.types.split(",").includes(e)));if(i){const e=i.querySelector(".parts-pipe-nr");e&&(e.innerHTML=`${parseInt(e.innerHTML)+1}`);const t=i.querySelector(".pipe");t&&(t.classList.remove("invisible"),t.classList.remove("dragged"))}return}const{x:e,y:r}=o.dataset,d=u.level[r][e].type;if(a!==o&&0===d){{const{x:e,y:s}=a.dataset,i=t.find((e=>0===e.type));if(i){const t={...i},n=new c(t);n.signals.onRotateEnd.on((()=>{u.clickOnTile()})),u.level[s][e]=n}}const{x:e,y:n}=o.dataset,r=s?.dataset.type,d=t.find((e=>e.type===+r));if(d){const t={...d},s=new c(t);s.signals.onRotateEnd.on((()=>{u.clickOnTile()})),u.level[n][e]=s,u.increaseMoves(),o.append(s.div),s.draggable=!0,i(s.div),u.resetTileStatus(),u.checkPipeConnection(),u.checkEndLevel()}}else a.append(s),a.classList.add("pipe-cnt-place-not-empty")}else a.append(s),a.classList.add("pipe-cnt-place-not-empty")})),a.bindEvents()}e.forEach((e=>{const n=new d(e,s);n.signals.dragStart.on((e=>{const t=e.dragElement,s=t.parentElement.querySelector(".parts-pipe-nr");s.innerHTML--,s.innerHTML<=0&&setTimeout((()=>{t.classList.add("invisible")}),0)})),n.signals.dragEnter.on((e=>{const t=e.areaEnter,{x:s,y:i}=t.dataset;0===u.level[i][s].type&&t.classList.add("hovered")})),n.signals.dragEnd.on((()=>{})),n.signals.dragLeave.on((e=>{const t=e.areaLeave,{x:s,y:i}=t.dataset;u.level[i][s].type>1?t.classList.add("pipe-cnt-place-not-empty"):t.classList.remove("pipe-cnt-place-not-empty"),t.classList.remove("hovered")})),n.signals.dragDrop.on((e=>{const s=e.dragElement,n=e.areaDrop,a=+s.dataset.type,o=s.parentElement.querySelector(".parts-pipe-nr");if(!n)return o.innerHTML++,s.classList.remove("invisible"),void s.classList.remove("dragged");n.classList.remove("hovered"),n.classList.add("pipe-cnt-place-not-empty");const{x:r,y:d}=n.dataset,l=t.find((e=>e.type===+a));if(l){const e={...l},t=new c(e);t.signals.onRotateEnd.on((()=>{u.clickOnTile()})),u.level[d][r]=t,n.append(t.div),u.increaseMoves(),u.resetTileStatus(),u.checkPipeConnection(),u.checkEndLevel(),t.draggable=!0,i(t.div)}})),n.bindEvents()}))}(),g.hide()}let g=new class extends l{constructor(){super(),this._DOM={div:document.createElement("div"),buttonsCnt:document.createElement("div")},this.signals={onLevelSelect:new r},this._levelUnlocked=[0],this._render(),this.hide()}_render(){this._DOM.div=document.createElement("div"),this._DOM.div.classList.add("level-select"),this._DOM.div.innerHTML='\n            <h2 class="level-select-title">\n                Wybierz poziom\n            </h2>\n            <div class="level-select-buttons"></div>\n        ',this._DOM.buttonsCnt=this._DOM.div.querySelector(".level-select-buttons"),this._renderButtons(),document.body.append(this._DOM.div)}_renderButtons(){this._DOM.buttonsCnt.innerHTML="";const e=new DocumentFragment;p.forEach(((t,s)=>{const i=document.createElement("button");i.classList.add("level-select-button"),i.disabled=!this._levelUnlocked.includes(s),i.innerHTML=`\n                <span>poziom</span>\n                <strong>${s+1}</strong>\n            `,e.append(i)})),this._DOM.buttonsCnt.append(e),this._bindEvents()}_bindEvents(){this._DOM.div.querySelectorAll(".level-select-button").forEach(((e,t)=>{e.addEventListener("click",(()=>{this.hide(),this.signals.onLevelSelect.emit(t)}))}))}show(){this._DOM.div.style.display="flex"}hide(){this._DOM.div.style.display="none"}unlockLevel(e){return!this._levelUnlocked.includes(e)&&(this._levelUnlocked.push(e),this._renderButtons(),!0)}};g.hide(),g.signals.onLevelSelect.on((e=>{g.hide(),m(e)}));let y=new class extends l{constructor(){super(),this._DOM={div:document.createElement("div")},this.signals={onClick:new r},this._render(),this._bindEvents()}_clickFn(){this.signals.onClick.emit(!0)}_render(){this._DOM.div=document.createElement("div"),this._DOM.div.classList.add("start-screen"),this._DOM.div.innerHTML='\n            <h2 class="start-screen-title">\n                Rurki\n            </h2>\n            <p class="start-screen-text">\n                kliknij aby kontynuować...\n            </p>\n        ',document.body.append(this._DOM.div)}_bindEvents(){this._clickFn=this._clickFn.bind(this),document.addEventListener("click",this._clickFn,{once:!0})}show(){this._DOM.div.style.display="flex"}hide(){this._DOM.div.style.display="none"}destructor(){document.removeEventListener("click",this._clickFn),this._DOM.div.remove()}};y.signals.onClick.on((()=>{y.destructor(),g.show()}));const E=new class extends l{constructor(){super(),this.signals={onButtonClick:new r},this._DOM={div:document.createElement("div"),button:document.createElement("button")},this._render(),this._bindEvents(),this.hide()}_render(){this._DOM.div=document.createElement("div"),this._DOM.div.classList.add("popup"),this._DOM.div.innerHTML='\n            <div class="popup-container">\n                <h2 class="popup-title">\n                    poziom zakończony\n                </h2>\n                <button class="popup-button">\n                    kontynuuj\n                </button>\n            </div>\n        ',this._DOM.button=this._DOM.div.querySelector(".popup-button"),document.body.append(this._DOM.div)}_bindEvents(){this._DOM.button.addEventListener("click",(e=>{this.hide(),this.signals.onButtonClick.emit(!0)}))}show(){this._DOM.div.style.display="flex",document.body.classList.add("level-complete")}hide(){this._DOM.div.style.display="none",document.body.classList.remove("level-complete")}};E.signals.onButtonClick.on((()=>{E.hide(),g.show()}));
//# sourceMappingURL=index.bd06170d.js.map
